import{g as de,r as v,b as ve,u as be,B as xe,d as Se,j as p,e as ae}from"./index-Bw8vxug1.js";import{u as we}from"./index.esm-v9O0ghl2.js";import{a as _e,b as Y}from"./Buttons-CLO9Hq2r.js";import{I as Re,a as Oe}from"./Inputs-BnIsm3X-.js";var le={exports:{}},je="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Le=je,Pe=Le;function ue(){}function fe(){}fe.resetWarningCache=ue;var Te=function(){function e(o,t,s,b,x,l){if(l!==Pe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:fe,resetWarningCache:ue};return n.PropTypes=n,n};le.exports=Te();var Ee=le.exports;const y=de(Ee);var Ce=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Z.apply(this,arguments)}function Ne(e,r){if(e==null)return{};var n={},o=Object.keys(e),t,s;for(s=0;s<o.length;s++)t=o[s],!(r.indexOf(t)>=0)&&(n[t]=e[t]);return n}function k(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Q(e,r)}function Q(e,r){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},Q(e,r)}var F=function(e){Ie(r,e);function r(){var o;return o=e.call(this)||this,o.handleExpired=o.handleExpired.bind(k(o)),o.handleErrored=o.handleErrored.bind(k(o)),o.handleChange=o.handleChange.bind(k(o)),o.handleRecaptchaRef=o.handleRecaptchaRef.bind(k(o)),o}var n=r.prototype;return n.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},n.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var t=this;return new Promise(function(s,b){t.executionResolve=s,t.executionReject=b,t.execute()})},n.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},n.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=t(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(t){this.captcha=t},n.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var s=Ne(t,Ce);return v.createElement("div",Z({},s,{ref:this.handleRecaptchaRef}))},r}(v.Component);F.displayName="ReCAPTCHA";F.propTypes={sitekey:y.string.isRequired,onChange:y.func,grecaptcha:y.object,theme:y.oneOf(["dark","light"]),type:y.oneOf(["image","audio"]),tabindex:y.number,onExpired:y.func,onErrored:y.func,size:y.oneOf(["compact","normal","invisible"]),stoken:y.string,hl:y.string,badge:y.oneOf(["bottomright","bottomleft","inline"]),isolated:y.bool};F.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var he={exports:{}},a={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=typeof Symbol=="function"&&Symbol.for,te=d?Symbol.for("react.element"):60103,re=d?Symbol.for("react.portal"):60106,D=d?Symbol.for("react.fragment"):60107,U=d?Symbol.for("react.strict_mode"):60108,M=d?Symbol.for("react.profiler"):60114,W=d?Symbol.for("react.provider"):60109,z=d?Symbol.for("react.context"):60110,oe=d?Symbol.for("react.async_mode"):60111,q=d?Symbol.for("react.concurrent_mode"):60111,B=d?Symbol.for("react.forward_ref"):60112,H=d?Symbol.for("react.suspense"):60113,Ae=d?Symbol.for("react.suspense_list"):60120,V=d?Symbol.for("react.memo"):60115,G=d?Symbol.for("react.lazy"):60116,$e=d?Symbol.for("react.block"):60121,ke=d?Symbol.for("react.fundamental"):60117,Fe=d?Symbol.for("react.responder"):60118,De=d?Symbol.for("react.scope"):60119;function g(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case te:switch(e=e.type,e){case oe:case q:case D:case M:case U:case H:return e;default:switch(e=e&&e.$$typeof,e){case z:case B:case G:case V:case W:return e;default:return r}}case re:return r}}}function me(e){return g(e)===q}a.AsyncMode=oe;a.ConcurrentMode=q;a.ContextConsumer=z;a.ContextProvider=W;a.Element=te;a.ForwardRef=B;a.Fragment=D;a.Lazy=G;a.Memo=V;a.Portal=re;a.Profiler=M;a.StrictMode=U;a.Suspense=H;a.isAsyncMode=function(e){return me(e)||g(e)===oe};a.isConcurrentMode=me;a.isContextConsumer=function(e){return g(e)===z};a.isContextProvider=function(e){return g(e)===W};a.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===te};a.isForwardRef=function(e){return g(e)===B};a.isFragment=function(e){return g(e)===D};a.isLazy=function(e){return g(e)===G};a.isMemo=function(e){return g(e)===V};a.isPortal=function(e){return g(e)===re};a.isProfiler=function(e){return g(e)===M};a.isStrictMode=function(e){return g(e)===U};a.isSuspense=function(e){return g(e)===H};a.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===D||e===q||e===M||e===U||e===H||e===Ae||typeof e=="object"&&e!==null&&(e.$$typeof===G||e.$$typeof===V||e.$$typeof===W||e.$$typeof===z||e.$$typeof===B||e.$$typeof===ke||e.$$typeof===Fe||e.$$typeof===De||e.$$typeof===$e)};a.typeOf=g;he.exports=a;var Ue=he.exports,ne=Ue,Me={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},We={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ye={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ie={};ie[ne.ForwardRef]=ze;ie[ne.Memo]=ye;function se(e){return ne.isMemo(e)?ye:ie[e.$$typeof]||Me}var qe=Object.defineProperty,Be=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,He=Object.getOwnPropertyDescriptor,Ve=Object.getPrototypeOf,pe=Object.prototype;function ge(e,r,n){if(typeof r!="string"){if(pe){var o=Ve(r);o&&o!==pe&&ge(e,o,n)}var t=Be(r);ce&&(t=t.concat(ce(r)));for(var s=se(e),b=se(r),x=0;x<t.length;++x){var l=t[x];if(!We[l]&&!(n&&n[l])&&!(b&&b[l])&&!(s&&s[l])){var u=He(r,l);try{qe(e,l,u)}catch{}}}}return e}var Ge=ge;const Ke=de(Ge);function X(){return X=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)}function Ye(e,r){if(e==null)return{};var n={},o=Object.keys(e),t,s;for(s=0;s<o.length;s++)t=o[s],!(r.indexOf(t)>=0)&&(n[t]=e[t]);return n}function Ze(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}var _={},Qe=0;function Xe(e,r){return r=r||{},function(o){var t=o.displayName||o.name||"Component",s=function(x){Ze(l,x);function l(S,c){var i;return i=x.call(this,S,c)||this,i.state={},i.__scriptURL="",i}var u=l.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Qe++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(c){var i=this;this.setState(c,function(){return i.props.asyncScriptOnLoad&&i.props.asyncScriptOnLoad(i.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var c=_[this.__scriptURL];if(!c||!c.loaded)throw new Error("Script is not loaded.");for(var i in c.observers)c.observers[i](c);delete window[r.callbackName]},u.componentDidMount=function(){var c=this,i=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),h=r,T=h.globalName,j=h.callbackName,E=h.scriptId;if(T&&typeof window[T]<"u"&&(_[i]={loaded:!0,observers:{}}),_[i]){var R=_[i];if(R&&(R.loaded||R.errored)){this.asyncScriptLoaderHandleLoad(R);return}R.observers[f]=function(m){return c.asyncScriptLoaderHandleLoad(m)};return}var N={};N[f]=function(m){return c.asyncScriptLoaderHandleLoad(m)},_[i]={loaded:!1,observers:N};var O=document.createElement("script");O.src=i,O.async=!0;for(var I in r.attributes)O.setAttribute(I,r.attributes[I]);E&&(O.id=E);var A=function(L){if(_[i]){var K=_[i],C=K.observers;for(var $ in C)L(C[$])&&delete C[$]}};j&&typeof window<"u"&&(window[j]=function(){return c.asyncScriptLoaderTriggerOnScriptLoaded()}),O.onload=function(){var m=_[i];m&&(m.loaded=!0,A(function(L){return j?!1:(L(m),!0)}))},O.onerror=function(){var m=_[i];m&&(m.errored=!0,A(function(L){return L(m),!0}))},document.body.appendChild(O)},u.componentWillUnmount=function(){var c=this.__scriptURL;if(r.removeOnUnmount===!0)for(var i=document.getElementsByTagName("script"),f=0;f<i.length;f+=1)i[f].src.indexOf(c)>-1&&i[f].parentNode&&i[f].parentNode.removeChild(i[f]);var h=_[c];h&&(delete h.observers[this.asyncScriptLoaderGetScriptLoaderID()],r.removeOnUnmount===!0&&delete _[c])},u.render=function(){var c=r.globalName,i=this.props;i.asyncScriptOnLoad;var f=i.forwardedRef,h=Ye(i,["asyncScriptOnLoad","forwardedRef"]);return c&&typeof window<"u"&&(h[c]=typeof window[c]<"u"?window[c]:void 0),h.ref=f,v.createElement(o,h)},l}(v.Component),b=v.forwardRef(function(x,l){return v.createElement(s,X({},x,{forwardedRef:l}))});return b.displayName="AsyncScriptLoader("+t+")",b.propTypes={asyncScriptOnLoad:y.func},Ke(b,o)}}var J="onloadcallback",Je="grecaptcha";function ee(){return typeof window<"u"&&window.recaptchaOptions||{}}function et(){var e=ee(),r=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+r+"/recaptcha/enterprise.js?onload="+J+"&render=explicit":"https://"+r+"/recaptcha/api.js?onload="+J+"&render=explicit"}const tt=Xe(et,{callbackName:J,globalName:Je,attributes:ee().nonce?{nonce:ee().nonce}:{}})(F),rt=({onCaptchaVerify:e})=>{const r=()=>{e(!0)};return p.jsx("div",{className:" bg-[#101010]",children:p.jsx(tt,{sitekey:"6LfQ3w8qAAAAAP20ZyUHAXrZ-7ADKcOzYNsDdAfx",onChange:r,className:"mb-4"})})},st=()=>{const e=ve(),{register:r,handleSubmit:n,formState:{errors:o},setValue:t,watch:s,trigger:b}=we(),{signin:x,isAuthenticade:l,errorAuth:u,alertUser:S,loginGoogle:c,loginFacebook:i}=be(),[f,h]=v.useState(0),[T,j]=v.useState(0),[E,R]=v.useState(!1),[N,O]=v.useState(!1),[I,A]=v.useState(!1),m=w=>{A(w),w&&(h(0),j(0),R(!1))};v.useEffect(()=>{l&&e("/")},[l]);const L=async w=>{w.preventDefault();try{await c()}catch(P){P.code==="auth/popup-closed-by-user"?console.error("Se cerro la ventana de inicio de google"):console.log("sucedio un error:",P)}},K=async w=>{w.preventDefault();try{await i()}catch(P){P.code==="auth/popup-closed-by-user"?console.error("Se cerro la ventana de inicio de Facebook"):console.log("sucedio un error:",P)}},C=w=>{w.preventDefault(),console.log("Signin with Apple")},$=n(async w=>{try{if(E){console.log("Botón bloqueado");return}await x(w),u&&(h(f+1),f>=2&&T<7?(R(!0),xe.error("Botón bloqueado por 2 minutos"),setTimeout(()=>{R(!1),j(T+3),h(0)},5e3)):T>=6&&(R(!0),O(!0),j(0),Se.set("alertUser",`${w.dato}`,{expires:1}),await S()))}catch(P){console.error(P)}});return p.jsxs("section",{className:"flex flex-col items-center justify-center md:flex-row min-h-screen",children:[p.jsxs("div",{className:"w-full md:w-1/2 p-8 flex flex-col space-y-2 md:space-y-4 justify-center items-center order-2 md:order-1",children:[p.jsxs("div",{className:"mb-2 flex flex-col justify-center items-center",children:[p.jsx("h2",{className:"text-md lg:text-4xl font-bold mb-4",children:"Inicio de sesión"}),p.jsxs("h1",{className:"text-lg",children:["Bienvenido a ",p.jsx("span",{className:"text-red-700",children:"Barbada Order"})]})]}),p.jsxs("form",{onSubmit:$,className:"mt-4 w-full space-y-8 md:space-y-11 md:w-3/4 lg:w-1/2",children:[p.jsx(Re,{title:"Correo o teléfono",name:"dato",min:"10",max:"100",icon:"solar:user-bold",err:o,method:r,look:s}),p.jsx(Oe,{title:"Contraseña",name:"pass",min:"8",max:"16",err:o,method:r,look:s,val:t,triger:b}),N&&p.jsx(rt,{onCaptchaVerify:m}),p.jsx(_e,{text:"Iniciar sesión",disabled:E&&!I})]}),p.jsxs("div",{className:"flex md:flex-col justify-center w-full md:w-3/4 lg:w-1/2 space-x-3 md:space-x-0 lg:space-x-0 space-y-0 md:space-y-3",children:[p.jsx(Y,{text:"Google",click:L,textColor:"text-slate-800",color:"bg-slate-100",hovColor:"hover:bg-slate-300",icon:"devicon:google"}),p.jsx(Y,{text:"Facebook",click:K,color:"bg-blue-500",hovColor:"hover:bg-blue-600",icon:"ic:baseline-facebook"}),p.jsx(Y,{text:"Apple",click:C,color:"bg-black",hovColor:"hover:bg-neutral-900",textHover:"hover:text-white",border:"border",icon:"ic:baseline-apple"})]}),p.jsx(ae,{to:"/recuperar",text:"¿Olvidaste tu contraseña? ",linkText:"Recuperar contraseña"}),p.jsx(ae,{to:"/register",text:"¿Aún no tienes cuenta? ",linkText:"Regístrate"})]}),p.jsx("div",{className:"h-[40vh] md:h-screen md:w-3/4 order-1 md:order-2",children:p.jsx("img",{src:"/img/fondo1.webp",alt:"",className:"w-full h-full object-cover"})})]})};export{st as default};
